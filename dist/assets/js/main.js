(()=>{"use strict";window.addEventListener("load",(function(){function e(e,t){var a=document.createElement("span");a.className="flip-clock__piece",a.innerHTML='<span class="flip-click__number"><b class="flip-clock__card card"><b class="card__top"></b><b class="card__bottom"></b><b class="card__back"><b class="card__bottom"></b></b></b></span><span class="flip-clock__slot">'+e+"</span>",this.el=a;var l=a.querySelector(".card__top"),n=a.querySelector(".card__bottom"),r=a.querySelector(".card__back"),c=a.querySelector(".card__back .card__bottom");this.update=function(e){(e=("0"+e).slice(-2))!==this.currentValue&&(this.currentValue>=0&&(r.setAttribute("data-value",this.currentValue),n.setAttribute("data-value",this.currentValue)),this.currentValue=e,l.innerText=this.currentValue,c.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))},this.update(t)}function t(e){var t=Date.parse(e)-Date.parse(new Date);return{Total:t,Days:Math.floor(t/864e5),Hours:Math.floor(t/36e5%24),Minutes:Math.floor(t/1e3/60%60),Seconds:Math.floor(t/1e3%60)}}function a(){var e=new Date;return{Total:e,Hours:e.getHours()%12,Minutes:e.getMinutes(),Seconds:e.getSeconds()}}console.clear();var l=new Date(Date.parse(new Date)+7776e5),n=JSON.parse(localStorage.getItem("deadline"));if(n){let e=new Date(+n);new Date<=e?l=e:localStorage.setItem("deadline",l.getTime())}else localStorage.setItem("deadline",l.getTime());var r=new function(l,n){l=!!l&&new Date(Date.parse(l)),n=n||function(){};var r=l?t:a;this.el=document.createElement("div"),this.el.className="flip-clock";var c,s,o={},i=r(l);for(c in i)"Total"!==c&&(o[c]=new e(c,i[c]),this.el.appendChild(o[c].el));var u=0;setTimeout((function e(){if(s=requestAnimationFrame(e),!(u++%10)){var t=r(l);if(t.Total<0){for(c in cancelAnimationFrame(s),o)o[c].update(0);n()}else for(c in o)o[c].update(t[c])}}),500)}(l,(function(){console.log("countdown complete")}));document.getElementById("countdown").appendChild(r.el)}))})();